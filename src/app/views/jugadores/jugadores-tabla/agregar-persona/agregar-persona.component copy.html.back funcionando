<div *ngFor="let object_campo of campos">
    <form class="form-contenedor" [formGroup]="playerForm"
        *ngFor="let campo of object_campo;">

        <mat-form-field *ngIf="campo.esCadena" class="form-campo"
            appearance="fill">
            <mat-label class="form-etiqueta" for="campo.name">
                {{ namesByCampo('viewName', campo.name) }}
            </mat-label>
            <input class="form-input" matInput id={{campo.name}}
                formControlName="{{campo.name}}"
                placeholder="{{ campo.sugerencia }}"
                (blur)="updateErrorMessage()"
                (input)="onInput($event)" />

            @if (playerForm.get(campo.name)?.invalid) {
            <mat-error>{{errorMessage[campo.name]()}}</mat-error>
            }
            <mat-hint align="end">{{value[campo.name]().length}}/255</mat-hint>

        </mat-form-field>

        <mat-form-field *ngIf="campo.esNumeroMediano"
            class="form-campo-numero" appearance="fill">
            <mat-label class="form-etiqueta" for="campo.name"> {{
                namesByCampo('viewName', campo.name) }}</mat-label>
            <input matInput type="number" id={{campo.name}}
                formControlName="{{campo.name}}"
                (blur)="updateErrorMessage()"
                (input)="onInput($event)"
                placeholder="{{ campo.sugerencia }}" />
            @if (playerForm.get(campo.name)?.invalid) {
            <mat-error>{{errorMessage[campo.name]()}}</mat-error>
            }
            <mat-hint align="end">{{campo.minVal}}-{{campo.maxVal}}</mat-hint>
        </mat-form-field>

        <mat-form-field *ngIf="campo.esUnico" class="form-campo-select"
            appearance="fill">
            <mat-label class="form-etiqueta" for="campo.name"> {{
                namesByCampo('viewName', campo.name) }}
            </mat-label>
            <mat-select class="form-select" id={{campo.name}}
                formControlName="{{campo.name}}"
                (blur)="updateErrorMessage()">
                <mat-option
                    *ngFor="let opcion of opciones[campo.name];"
                    value="opcion.codigo">{{ opcion.view }}
                </mat-option>
            </mat-select>
            @if (playerForm.get(campo.name)?.invalid) {
            <mat-error>{{errorMessage[campo.name]()}}</mat-error>
            }
            <mat-hint align="end">Menú Desplegable ^</mat-hint>
        </mat-form-field>

        <mat-slider *ngIf="campo.esNumeroPequenio" min={{campo.minVal}}
            max={{campo.maxVal}} showTickMarks
            discrete>
            <mat-label class="form-etiqueta" for="campo.name">
                {{ namesByCampo('viewName', campo.name) }}
            </mat-label>
            <input matSliderThumb>
        </mat-slider>

        <mat-form-field *ngIf="campo.esMoneda" class="form-campo-numero"
            appearance="fill"
            floatLabel="always">
            <mat-label for="campo.name"> {{ namesByCampo('viewName', campo.name)
                }}</mat-label>
            <input class="form-campo-euro" matInput type="number"
                id={{campo.name}}
                formControlName="{{campo.name}}"
                (blur)="updateErrorMessage()"
                placeholder="{{ campo.sugerencia }}" />
            <span matTextPrefix>€&nbsp;</span>
            <span matTextSuffix>.00</span>
            @if (playerForm.get(campo.name)?.invalid) {
            <mat-error>{{errorMessage[campo.name]()}}</mat-error>
            }
            <mat-hint align="end">{{campo.minVal}}-{{campo.maxVal}}</mat-hint>
        </mat-form-field>

        <mat-form-field *ngIf="campo.esMultiple" class="form-campo-multiselect"
            appearance="fill">
            <mat-label class="form-etiqueta" for="campo.name"> {{
                namesByCampo('viewName', campo.name)
                }}
            </mat-label>
            <mat-select class="form-select" id={{campo.name}}
                formControlName="{{campo.name}}"
                multiple
                (blur)="updateErrorMessage()">
                <mat-option
                    *ngFor="let opcion of opciones[campo.name];"
                    value="opcion.codigo">{{ opcion.view }}
                </mat-option>

            </mat-select>
            @if (playerForm.get(campo.name)?.invalid) {
            <mat-error>{{errorMessage[campo.name]()}}</mat-error>
            }
            <mat-hint align="end">Menú Desplegable ^</mat-hint>
        </mat-form-field>
        <div *ngIf="campo.esRangoCategorias">
            <mat-slider [min]="campo.minVal"
                [max]="campo.maxVal" showTickMarks>
                <mat-label class="form-etiqueta" for="campo.name">
                    {{ namesByCampo('viewName', campo.name) }}
                </mat-label>
                <input type="range" value="{{+campo.minVal}}"
                    matSliderStartThumb
                    #slider1>
                <input type="range" value="{{+campo.maxVal}}" matSliderEndThumb
                    #slider2>
            </mat-slider>
            <div>
                <label>
                    {{ getValueFromSlider(campo, slider1.value) }}/{{
                    getValueFromSlider(campo, slider2.value) }}
                </label>
            </div>
        </div>
    </form>
</div>